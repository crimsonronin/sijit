<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>Functional Testing Sds/Form/CurrencyTextBox</title>
		<style type="text/css">
            @import "../../../themes/bootstrap/css/bootstrap.css";
            @import "../../../themes/bootstrap/css/bootstrap-responsive.css";
		</style>
        <script type="text/javascript" src="../../testconfig.js"></script>
        <script type="text/javascript" src="../../../../dojo/dojo.js"></script>
        <script type="text/javascript" src="../../Built.js"></script>
		<script type="text/javascript">
			require([
                'dojox/mobile/parser',
                'dojo/json',
                'dojo/on',
                'dojo/dom',
                'dijit/registry',
                'Sds/Form/CurrencyTextBox',
                'dojo/domReady!'
            ],
            function(
                parser,
                json,
                on,
                dom,
                registry
            ){
                parser.parse();

                on(dom.byId('programaticSet'), 'click', function(e){
                    e.preventDefault();
                    registry.byId('currencyTextBox1').set('value', 5.2);
                });

                dom.byId('currencyTextBox1Value').innerHTML = json.stringify(registry.byId('currencyTextBox1').get('value'));
                registry.byId('currencyTextBox1').watch('value', function(p, o, newValue){
                    if (newValue == null){
                        dom.byId('currencyTextBox1Value').innerHTML = 'null';
                    } else {
                        dom.byId('currencyTextBox1Value').innerHTML = newValue;
                    }
                });

                dom.byId('currencyTextBox2Value').innerHTML = json.stringify(registry.byId('currencyTextBox2').get('value'));
                registry.byId('currencyTextBox2').watch('value', function(p, o, newValue){
                    if (newValue == null){
                        dom.byId('currencyTextBox2Value').innerHTML = 'null';
                    } else {
                        dom.byId('currencyTextBox2Value').innerHTML = newValue;
                    }
                });

                dom.byId('currencyTextBox3Value').innerHTML = json.stringify(registry.byId('currencyTextBox3').get('value'));
                registry.byId('currencyTextBox3').watch('value', function(p, o, newValue){
                    if (newValue == null){
                        dom.byId('currencyTextBox3Value').innerHTML = 'null';
                    } else {
                        dom.byId('currencyTextBox3Value').innerHTML = newValue;
                    }
                });
            })
		</script>
	</head>
	<body>
        <h1>Functional Testing Sds/Form/CurrencyTextBox</h1>
        <br />
        <form class="form-horizontal">

            <h3>Single Currency Box</h3>
            <div class="well">
                <input data-dojo-type="Sds/Form/CurrencyTextBox"
                    data-dojo-props="
                        label:'Cost'
                    "
                    id="currencyTextBox1"
                />
                <p>Currency Box Value: <pre id="currencyTextBox1Value"></pre></p>
                <button id="programaticSet" class="btn">Do currencyTextBox1.set('value', 5.2);</button>
            </div>

            <h3>Currency Box with preset float value</h3>
            <div class="well">
                <input data-dojo-type="Sds/Form/CurrencyTextBox"
                    data-dojo-props="
                        label:'Cost',
                        value: 2.2
                    "
                    id="currencyTextBox2"
                />
                <p>Currency Box Value: <pre id="currencyTextBox2Value"></pre></p>
            </div>

            <h3>Currency Box with preset string value</h3>
            <div class="well">
                <input data-dojo-type="Sds/Form/CurrencyTextBox"
                    data-dojo-props="
                        label:'Cost',
                        value: '2.2'
                    "
                    id="currencyTextBox3"
                />
                <p>Currency Box Value: <pre id="currencyTextBox3Value"></pre></p>
            </div>

            <h3>Multiple Currency Boxes</h3>
            <div class="well">
                <input data-dojo-type="Sds/Form/CurrencyTextBox"
                    name="fullPrice"
                    data-dojo-props="
                    label:'Full price',
                    focusNodeClass: ['span2'],
                    validator: 'Required'"
                    id="fullPrice"
                />
                <input data-dojo-type="Sds/Form/CurrencyTextBox"
                    name="salePrice"
                    data-dojo-props="
                    label:'Sale price',
                    focusNodeClass: ['span2'],
                    validator: 'NotRequired'"
                    id="salePrice"
                />
                <input data-dojo-type="Sds/Form/CurrencyTextBox"
                    name="wholesalePrice"
                    data-dojo-props="
                    label:'Wholesale price',
                    focusNodeClass: ['span2'],
                    validator: 'NotRequired'"
                    id="wholesalePrice"
                />
            </div>
        </form>
	</body>
</html>
